plugins {
    id 'java'
    id 'edu.sc.seis.launch4j' version '2.5.3'
}

group 'org.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}
sourceSets {
    main {
        java {
            srcDirs = ['src']
        }
    }
}
dependencies {
    implementation 'org.json:json:20201115'
    implementation 'commons-io:commons-io:2.8.0'
    implementation 'org.apache.httpcomponents:fluent-hc:4.5.13'
    implementation 'org.projectlombok:lombok:1.18.16'
}

jar {
    archiveBaseName = 'TwitchRecover'
    archiveVersion = ''
    manifest {
        attributes 'Main-Class': 'TwitchRecover.CLI.CLI'
    }
    exclude 'META-INF/**'
    from {
        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
}

launch4j {
    mainClassName = 'TwitchRecover.CLI.CLI'
    headerType = 'console'
}